function setRiver(){var t=new XMLHttpRequest;t.onreadystatechange=function(){if(4==t.readyState&&200==t.status){var e=JSON.parse(t.responseText);riverSummaryTable(e)}},t.open("GET",riverUrl+"RiverData.json",!0),t.send()}function setRiverData(){var t=new RegExp("[\\?&]station=([^&#]*)"),e=t.exec(location.search);null===e&&(window.location.href="River.html");var r=e[1];riverGetDetail(r)}function riverSummaryTable(t){var e="<table class='table table-bordered'>";e+="<tr><th>場所</th><th>水位</th><th>水位変化</th><th>観測時間<th>リンク</th></tr>";var r;for(r=0;r<t.hr.length;r++)e+="<tr><td>"+t.hr[r].obn+"</td><td>"+t.hr[r].d10_val+"</td><td>"+t.hr[r].d10_chg+"</td><td>"+t.hr[r].dt+'</td><td><a href="RiverData.html?station='+t.hr[r].sc+'">リンク</a></td></tr>';e+="<table>",e+="<p>データ: "+riverUrl+"RiverData.json</p>",document.getElementById("id01").innerHTML=e}function riverGetDetail(t){var e=new XMLHttpRequest,r=riverUrl+t+".json";e.onreadystatechange=function(){if(4==e.readyState&&200==e.status){var t=JSON.parse(e.responseText);riverDetailTable(t,r)}},e.open("GET",r,!0),e.send()}function riverDetailTable(t,e){document.getElementById("place0").innerHTML=t.obn;var r="<p>"+t.rsn+" "+t.rn+"</p>";r+="<p>所在地; "+t.obl+"</p>",null!=t.spfw&&(r+="<p>水防団待機水位: "+t.spfw+"m</p>"),null!=t.cauw&&(r+="<p>はん濫注意水位: "+t.cauw+"m</p>"),null!=t.spcw&&(r+="<p>避難判断水位: "+t.spcw+"m</p>"),null!=t.danw&&(r+="<p>はん濫危険水位: "+t.danw+"m</p>"),null!=t.plaw&&(r+="<p>計画高水位: "+t.plaw+"m</p>"),r+="<table class='table table-bordered'>",r+="<tr><th>観測時間</th><th>水位</th><th>ステータス</th></tr>";var a;for(a=0;a<t.ot.length;a++)r+="<tr><td>"+t.ot[a]+"</td><td>"+t.d10_val[a]+"</td><td>"+t.d10_si[a]+"</td><tr>";r+="<table>",r+="<p>データ: "+e+"</p>",document.getElementById("id02").innerHTML=r}var riverUrl="http://tk.ecitizen.jp/Data/River/";