function setRiver(){var t=new XMLHttpRequest;t.onreadystatechange=function(){if(4==t.readyState&&200==t.status){var e=JSON.parse(t.responseText);riverSummaryTable(e,urlRiver)}},t.open("GET",urlRiver,!0),t.send()}function setRiverData(){var t=new RegExp("[\\?&]station=([^&#]*)"),e=t.exec(location.search);null===e&&(window.location.href="River.html");var r=e[1];riverGetDetail(r)}function riverSummaryTable(t,e){var r="<table class='table table-bordered'>";r+="<tr><th>場所</th><th>水位</th><th>水位変化</th><th>観測時間<th>リンク</th></tr>";var a;for(a=0;a<t.hr.length;a++)r+="<tr><td>"+t.hr[a].obn+"</td><td>"+t.hr[a].d10_val+"</td><td>"+t.hr[a].d10_chg+"</td><td>"+t.hr[a].dt+'</td><td><a href="RiverData.html?station='+t.hr[a].ofc+"-"+t.hr[a].obc+'">リンク</a></td></tr>';r+="<table>",r+="<p>データ: "+e+"</p>",document.getElementById("id01").innerHTML=r}function riverGetDetail(t){var e=new XMLHttpRequest,r=urlRiver0+t+".json";e.onreadystatechange=function(){if(4==e.readyState&&200==e.status){var t=JSON.parse(e.responseText);riverDetailTable(t,r)}},e.open("GET",r,!0),e.send()}function riverDetailTable(t,e){document.getElementById("place0").innerHTML=t.obn;var r="<table class='table table-bordered'>";r+="<tr><th>観測時間</th><th>水位</th><th>ステータス</th></tr>";var a;for(a=0;a<t.ot.length;a++)r+="<tr><td>"+t.ot[a]+"</td><td>"+t.d10_val[a]+"</td><td>"+t.d10_si[a]+"</td><tr>";r+="<table>",r+="<p>データ: "+e+"</p>",document.getElementById("id02").innerHTML=r}var urlRiver="http://tk.ecitizen.jp/Data/River/RiverData.json",urlRiver0="http://tk.ecitizen.jp/Data/River/";