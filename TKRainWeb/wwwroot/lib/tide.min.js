function setTide(){var t=new XMLHttpRequest;t.onreadystatechange=function(){if(4==t.readyState&&200==t.status){var e=JSON.parse(t.responseText);tideSummaryTable(e)}},t.open("GET",tideUrl+"TideData.json",!0),t.send()}function setTideData(){var t=new RegExp("[\\?&]station=([^&#]*)"),e=t.exec(location.search);null===e&&(window.location.href="Tide.html"),tideGetDetail(e[1])}function tideSummaryTable(t){var e="<table class='table table-bordered'>";e+="<tr><th>場所</th><th>潮位</th><th>観測時間</th><th>リンク</th></tr>";var a;for(a=0;a<t.hr.length;a++)e+="<tr><td>"+t.hr[a].obn+"</td><td>"+t.hr[a].level+"</td><td>"+t.hr[a].dt+'</td><td><a href="TideData.html?station='+t.hr[a].sc+'">リンク</a></td></tr>';e+="<table>",e+="<p>データ: "+tideUrl+"TideData.json</p>",document.getElementById("id01").innerHTML=e}function tideGetDetail(t){var e=new XMLHttpRequest,a=tideUrl+t+".json";e.onreadystatechange=function(){if(4==e.readyState&&200==e.status){var t=JSON.parse(e.responseText);tideDetailTable(t,a)}},e.open("GET",a,!0),e.send()}function tideDetailTable(t,e){document.getElementById("place0").innerHTML=t.obn;var a="<table class='table table-bordered'>";a+="<tr><th>観測時間</th><th>潮位</th></tr>";var n;for(n=t.ot.length-144;n<t.ot.length;n++)a+="<tr><td>"+t.ot[n]+"</td><td>"+t.level[n]+"</td></tr>";a+="<table>",a+="<p>データ: "+e+"</p>",document.getElementById("id02").innerHTML=a}var tideUrl="http://tk.ecitizen.jp/Data/Tide/";